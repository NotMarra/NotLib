<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NotLib: com.notmarra.notlib.database.query.NotQueryBatch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NotLib<span id="projectnumber">&#160;0.1</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">com.notmarra.notlib.database.query.NotQueryBatch Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Batch processor for SQL queries that executes multiple queries in a single transaction.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ada29bdc606b688315fd66ad26f347653" id="r_ada29bdc606b688315fd66ad26f347653"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada29bdc606b688315fd66ad26f347653">NotQueryBatch</a> (<a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1_not_database.html">NotDatabase</a> database)</td></tr>
<tr class="memdesc:ada29bdc606b688315fd66ad26f347653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch.html" title="Batch processor for SQL queries that executes multiple queries in a single transaction.">NotQueryBatch</a> with the specified database.  <br /></td></tr>
<tr class="separator:ada29bdc606b688315fd66ad26f347653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb5474e6ee368661265aa755bc6816e" id="r_a2cb5474e6ee368661265aa755bc6816e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch.html">NotQueryBatch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cb5474e6ee368661265aa755bc6816e">add</a> (<a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_sql_builder.html">NotSqlBuilder</a> builder)</td></tr>
<tr class="separator:a2cb5474e6ee368661265aa755bc6816e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c413efb86123b68825f5360586eb4a9" id="r_a4c413efb86123b68825f5360586eb4a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c413efb86123b68825f5360586eb4a9">execute</a> ()</td></tr>
<tr class="separator:a4c413efb86123b68825f5360586eb4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f1cb6594a5c5e3fbdae5e686544e89" id="r_a57f1cb6594a5c5e3fbdae5e686544e89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57f1cb6594a5c5e3fbdae5e686544e89">clear</a> ()</td></tr>
<tr class="memdesc:a57f1cb6594a5c5e3fbdae5e686544e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all query builders from the batch.  <br /></td></tr>
<tr class="separator:a57f1cb6594a5c5e3fbdae5e686544e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1c3127781fc1a0ec4e7f2a6797a068" id="r_a7b1c3127781fc1a0ec4e7f2a6797a068"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b1c3127781fc1a0ec4e7f2a6797a068">size</a> ()</td></tr>
<tr class="separator:a7b1c3127781fc1a0ec4e7f2a6797a068"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Batch processor for SQL queries that executes multiple queries in a single transaction. </p>
<p>This class allows collecting multiple SQL queries and executing them as a single atomic transaction. If any query in the batch fails, the entire transaction will be rolled back to ensure data integrity.</p>
<p>The <a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch.html" title="Batch processor for SQL queries that executes multiple queries in a single transaction.">NotQueryBatch</a> manages a collection of SQL builder objects and executes all of them within a single database transaction. This provides ACID guarantees and better performance for multiple related database operations.</p>
<p>Usage example: </p><div class="fragment"><div class="line"><a class="code hl_function" href="#ada29bdc606b688315fd66ad26f347653">NotQueryBatch</a> batch = <span class="keyword">new</span> <a class="code hl_function" href="#ada29bdc606b688315fd66ad26f347653">NotQueryBatch</a>(database);</div>
<div class="line">batch.<a class="code hl_function" href="#a2cb5474e6ee368661265aa755bc6816e">add</a>(insert1)</div>
<div class="line">     .<a class="code hl_function" href="#a2cb5474e6ee368661265aa755bc6816e">add</a>(insert2)</div>
<div class="line">     .<a class="code hl_function" href="#a2cb5474e6ee368661265aa755bc6816e">add</a>(update1);</div>
<div class="line"><span class="keywordtype">int</span> affectedRows = batch.<a class="code hl_function" href="#a4c413efb86123b68825f5360586eb4a9">execute</a>();</div>
<div class="ttc" id="aclasscom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch_html_a2cb5474e6ee368661265aa755bc6816e"><div class="ttname"><a href="#a2cb5474e6ee368661265aa755bc6816e">com.notmarra.notlib.database.query.NotQueryBatch.add</a></div><div class="ttdeci">NotQueryBatch add(NotSqlBuilder builder)</div><div class="ttdef"><b>Definition</b> NotQueryBatch.java:56</div></div>
<div class="ttc" id="aclasscom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch_html_a4c413efb86123b68825f5360586eb4a9"><div class="ttname"><a href="#a4c413efb86123b68825f5360586eb4a9">com.notmarra.notlib.database.query.NotQueryBatch.execute</a></div><div class="ttdeci">int execute()</div><div class="ttdef"><b>Definition</b> NotQueryBatch.java:78</div></div>
<div class="ttc" id="aclasscom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch_html_ada29bdc606b688315fd66ad26f347653"><div class="ttname"><a href="#ada29bdc606b688315fd66ad26f347653">com.notmarra.notlib.database.query.NotQueryBatch.NotQueryBatch</a></div><div class="ttdeci">NotQueryBatch(NotDatabase database)</div><div class="ttdoc">Constructs a new NotQueryBatch with the specified database.</div><div class="ttdef"><b>Definition</b> NotQueryBatch.java:46</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_sql_builder.html" title="A fluent SQL query builder for constructing SQL queries of various types.">NotSqlBuilder</a> </dd>
<dd>
<a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1_not_database.html" title="An abstract base class for database operations with configurable settings.">NotDatabase</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ada29bdc606b688315fd66ad26f347653" name="ada29bdc606b688315fd66ad26f347653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada29bdc606b688315fd66ad26f347653">&#9670;&#160;</a></span>NotQueryBatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">com.notmarra.notlib.database.query.NotQueryBatch.NotQueryBatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1_not_database.html">NotDatabase</a></td>          <td class="paramname"><span class="paramname"><em>database</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a new <a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch.html" title="Batch processor for SQL queries that executes multiple queries in a single transaction.">NotQueryBatch</a> with the specified database. </p>
<p>This constructor initializes a query batch that will operate on the provided database. The query batch allows for executing multiple database operations as a single unit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">database</td><td>The <a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1_not_database.html" title="An abstract base class for database operations with configurable settings.">NotDatabase</a> instance to associate with this query batch </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2cb5474e6ee368661265aa755bc6816e" name="a2cb5474e6ee368661265aa755bc6816e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cb5474e6ee368661265aa755bc6816e">&#9670;&#160;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch.html">NotQueryBatch</a> com.notmarra.notlib.database.query.NotQueryBatch.add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_sql_builder.html">NotSqlBuilder</a></td>          <td class="paramname"><span class="paramname"><em>builder</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds a <a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_sql_builder.html" title="A fluent SQL query builder for constructing SQL queries of various types.">NotSqlBuilder</a> to this batch of queries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">builder</td><td>The <a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_sql_builder.html" title="A fluent SQL query builder for constructing SQL queries of various types.">NotSqlBuilder</a> to add to the batch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This <a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch.html" title="Batch processor for SQL queries that executes multiple queries in a single transaction.">NotQueryBatch</a> instance for method chaining. </dd></dl>

</div>
</div>
<a id="a57f1cb6594a5c5e3fbdae5e686544e89" name="a57f1cb6594a5c5e3fbdae5e686544e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f1cb6594a5c5e3fbdae5e686544e89">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.notmarra.notlib.database.query.NotQueryBatch.clear </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all query builders from the batch. </p>
<p>This method removes all previously added query builders from the batch, effectively resetting it to an empty state. After calling this method, the batch will contain no query builders to execute. </p>

</div>
</div>
<a id="a4c413efb86123b68825f5360586eb4a9" name="a4c413efb86123b68825f5360586eb4a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c413efb86123b68825f5360586eb4a9">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int com.notmarra.notlib.database.query.NotQueryBatch.execute </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Executes all SQL statements in the batch as a single transaction.</p>
<p>This method performs the following operations:</p><ol type="1">
<li>Gets a database connection and disables auto-commit</li>
<li>For each SQL builder in the batch:<ul>
<li>Builds the SQL statement</li>
<li>Prepares the statement with the connection</li>
<li>Sets all parameters</li>
<li>Executes the statement and counts affected rows</li>
</ul>
</li>
<li>Commits the transaction if all statements execute successfully</li>
</ol>
<p>If any statement fails, the entire transaction is rolled back. All resources (statements and connection) are properly closed in the finally block.</p>
<dl class="section return"><dt>Returns</dt><dd>The total number of rows affected by all statements, or 0 if the batch is empty or execution fails </dd></dl>

</div>
</div>
<a id="a7b1c3127781fc1a0ec4e7f2a6797a068" name="a7b1c3127781fc1a0ec4e7f2a6797a068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1c3127781fc1a0ec4e7f2a6797a068">&#9670;&#160;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int com.notmarra.notlib.database.query.NotQueryBatch.size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of query builders contained in this batch.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of query builders in this batch </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/com/notmarra/notlib/database/query/<a class="el" href="_not_query_batch_8java.html">NotQueryBatch.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>com</b></li><li class="navelem"><b>notmarra</b></li><li class="navelem"><a class="el" href="namespacecom_1_1notmarra_1_1notlib.html">notlib</a></li><li class="navelem"><a class="el" href="namespacecom_1_1notmarra_1_1notlib_1_1database.html">database</a></li><li class="navelem"><a class="el" href="namespacecom_1_1notmarra_1_1notlib_1_1database_1_1query.html">query</a></li><li class="navelem"><a class="el" href="classcom_1_1notmarra_1_1notlib_1_1database_1_1query_1_1_not_query_batch.html">NotQueryBatch</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
